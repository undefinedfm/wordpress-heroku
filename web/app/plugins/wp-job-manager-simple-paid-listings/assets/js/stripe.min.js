window.onload=function(){if(document.getElementById("stripe-card-element")){var e=Stripe(stripe_checkout_params.key),t={base:{color:"#32325d",fontFamily:'"Helvetica Neue", Helvetica, sans-serif',fontSmoothing:"antialiased",fontSize:"16px","::placeholder":{color:"#aab7c4"}},invalid:{color:"#fa755a",iconColor:"#fa755a"}},n=e.elements({locale:stripe_checkout_params.locale}).create("card",{style:t});n.mount("#stripe-card-element"),n.addEventListener("change",function(e){var t=document.getElementById("stripe-card-errors");e.error?t.textContent=e.error.message:t.textContent=""});var a=!1,r=document.getElementById("stripe-checkout-form"),s=document.getElementById("stripe-cardholder-name");r.addEventListener("submit",function(t){if(a)return!0;t.preventDefault();var o=document.getElementById("stripe-card-errors"),i=this.querySelector(".spinner"),c=this.querySelectorAll("input[type=submit]");c.forEach(function(e){e.classList.add("disabled"),e.addEventListener("click",function(t){return!e.classList.contains("disabled")||(t.preventDefault(),!1)})}),i.classList.add("is-active"),o.textContent="";var d=r.dataset.secret;e.handleCardPayment(d,n,{payment_method_data:{billing_details:{name:s.value}}}).then(function(e){e.error?(i.classList.remove("is-active"),c.forEach(function(e){e.classList.remove("disabled")}),o.textContent=e.error.message):e.paymentIntent&&"succeeded"===e.paymentIntent.status?(a=!0,r.submit()):o.textContent=stripe_checkout_params.unknown_error_message})})}};