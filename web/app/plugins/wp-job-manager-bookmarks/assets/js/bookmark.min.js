jQuery(document).ready(function(o){o(".bookmark-notice").click(function(){return o(".bookmark-details").slideToggle(),o(this).toggleClass("open"),!1}),o(".job-manager-bookmark-action-delete").click(function(){if(o(this).hasClass("disabled"))return!1;var a=o(this),e=a.closest("tr");if(confirm(job_manager_bookmarks.i18n_confirm_delete)){var s=o("<span />",{class:"spinner",style:"background-image: url("+job_manager_bookmarks.spinner_url+")"}).insertAfter(a);a.addClass("disabled"),e.addClass("performing-action"),jQuery.getJSON(o(this).attr("href"),{"wpjm-ajax":1}).done(function(o){o&&o.success&&e.remove()}).fail(function(o){console.log({failed_task:"Bookmark Deletion",response_code:o.status,response:o.responseText})}).always(function(){s.remove(),e.removeClass("performing-action"),a.removeClass("disabled")})}return!1}),o(".wp-job-manager-bookmarks-form .remove-bookmark").click(function(){if(o(this).hasClass("disabled"))return!1;var a=o(this);if(confirm(job_manager_bookmarks.i18n_confirm_delete)){var e=o("<span />",{class:"spinner is-active",style:"background-image: url("+job_manager_bookmarks.spinner_url+")"}).appendTo(a);a.addClass("disabled performing-action"),jQuery.getJSON(o(this).attr("href"),{"wpjm-ajax":1}).done(function(e){if(e&&e.success){var s=a.closest("form.wp-job-manager-bookmarks-form");o("#bookmark_notes").val(""),s.removeClass("has-bookmark"),s.find(".submit-bookmark-button").prop("value",job_manager_bookmarks.i18n_add_bookmark)}}).fail(function(o){console.log({failed_task:"Bookmark Deletion",response_code:o.status,response:o.responseText})}).always(function(){e.remove(),a.removeClass("disabled performing-action")})}return!1});var a=o(".wp-job-manager-bookmarks-form input[type=submit]").click(function(){return!o(this).hasClass("disabled")}),e=o(this).find(".spinner");o(".wp-job-manager-bookmarks-form").submit(function(s){s.preventDefault();var r=o(this);e.addClass("is-active"),a.addClass("disabled"),o.post({url:o(this).attr("action"),data:o(this).serialize()+"&wpjm-ajax=1&submit_bookmark=1"}).done(function(a){a&&a.success&&(a.note&&o("#bookmark_notes").val(a.note),r.addClass("has-bookmark"),r.find(".submit-bookmark-button").prop("value",job_manager_bookmarks.i18n_update_bookmark))}).always(function(){e.removeClass("is-active"),a.removeClass("disabled")}).fail(function(o){console.log({failed_task:"Bookmark Save",response_code:o.status,response:o.responseText})})})});